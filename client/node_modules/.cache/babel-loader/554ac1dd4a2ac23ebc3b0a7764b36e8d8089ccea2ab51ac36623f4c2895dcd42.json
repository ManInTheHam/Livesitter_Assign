{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joshi\\\\OneDrive\\\\Desktop\\\\rtsp-overlay-app\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { API } from \"./api\";\nimport VideoPlayer from \"./components/VideoPlayer\";\nimport OverlayEditor from \"./components/OverlayEditor\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [rtspUrl, setRtspUrl] = useState(\"\");\n  const [streamKey, setStreamKey] = useState(\"demo\");\n  const [hlsUrl, setHlsUrl] = useState(\"\");\n  const [name, setName] = useState(\"My Overlay\");\n  const [items, setItems] = useState([{\n    type: \"text\",\n    content: \"LIVE\",\n    x: 0.02,\n    y: 0.02,\n    w: 0.12,\n    h: 0.08,\n    fontSize: 28,\n    color: \"#ff4444\",\n    z: 9\n  }]);\n  const [saved, setSaved] = useState([]);\n  const start = async () => {\n    const {\n      data\n    } = await API.post(\"/api/streams/start\", {\n      rtspUrl,\n      streamKey\n    });\n    setHlsUrl(`http://localhost:5000${data.hlsPath}`);\n  };\n  const stop = async () => {\n    await API.post(\"/api/streams/stop\", {\n      streamKey\n    });\n    setHlsUrl(\"\");\n  };\n  const load = async () => {\n    const {\n      data\n    } = await API.get(\"/api/overlays\", {\n      params: {\n        userId: \"demo\"\n      }\n    });\n    setSaved(data);\n  };\n  const save = async () => {\n    await API.post(\"/api/overlays\", {\n      userId: \"demo\",\n      name,\n      items\n    });\n    load();\n  };\n  const apply = ov => setItems(ov.items);\n  useEffect(() => {\n    load();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 1100,\n      margin: \"0 auto\",\n      padding: 16\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"RTSP Livestream with Overlays\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"grid\",\n        gap: 12,\n        gridTemplateColumns: \"1fr auto auto auto\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"RTSP URL (rtsp://...)\",\n        value: rtspUrl,\n        onChange: e => setRtspUrl(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Stream key\",\n        value: streamKey,\n        onChange: e => setStreamKey(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: start,\n        children: \"Start\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: stop,\n        children: \"Stop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"relative\",\n        marginTop: 16,\n        width: 960,\n        maxWidth: \"100%\",\n        aspectRatio: \"16/9\"\n      },\n      children: hlsUrl ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(VideoPlayer, {\n          src: hlsUrl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(OverlayEditor, {\n          items: items,\n          setItems: setItems\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 20,\n          border: \"1px solid #ddd\"\n        },\n        children: [\"Enter an RTSP URL and click \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Start\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 41\n        }, this), \" to view.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginTop: 16\n      },\n      children: \"Overlay Presets\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 8,\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: name,\n        onChange: e => setName(e.target.value),\n        placeholder: \"Preset name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: save,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: saved.map(ov => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          display: \"flex\",\n          gap: 8,\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => apply(ov),\n          children: \"Apply\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: ov.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)]\n      }, ov._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"YeXkWDAO5EvcRKkOBpSnE/xQ+io=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","API","VideoPlayer","OverlayEditor","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","rtspUrl","setRtspUrl","streamKey","setStreamKey","hlsUrl","setHlsUrl","name","setName","items","setItems","type","content","x","y","w","h","fontSize","color","z","saved","setSaved","start","data","post","hlsPath","stop","load","get","params","userId","save","apply","ov","style","maxWidth","margin","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","display","gap","gridTemplateColumns","placeholder","value","onChange","e","target","onClick","position","marginTop","width","aspectRatio","src","border","alignItems","map","_id","_c","$RefreshReg$"],"sources":["C:/Users/joshi/OneDrive/Desktop/rtsp-overlay-app/client/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { API } from \"./api\";\r\nimport VideoPlayer from \"./components/VideoPlayer\";\r\nimport OverlayEditor from \"./components/OverlayEditor\";\r\n\r\nexport default function App() {\r\n  const [rtspUrl, setRtspUrl] = useState(\"\");\r\n  const [streamKey, setStreamKey] = useState(\"demo\");\r\n  const [hlsUrl, setHlsUrl] = useState(\"\");\r\n  const [name, setName] = useState(\"My Overlay\");\r\n  const [items, setItems] = useState([\r\n    { type: \"text\", content: \"LIVE\", x: 0.02, y: 0.02, w: 0.12, h: 0.08, fontSize: 28, color: \"#ff4444\", z: 9 },\r\n  ]);\r\n  const [saved, setSaved] = useState([]);\r\n\r\n  const start = async () => {\r\n    const { data } = await API.post(\"/api/streams/start\", { rtspUrl, streamKey });\r\n    setHlsUrl(`http://localhost:5000${data.hlsPath}`);\r\n  };\r\n\r\n  const stop = async () => {\r\n    await API.post(\"/api/streams/stop\", { streamKey });\r\n    setHlsUrl(\"\");\r\n  };\r\n\r\n  const load = async () => {\r\n    const { data } = await API.get(\"/api/overlays\", { params: { userId: \"demo\" } });\r\n    setSaved(data);\r\n  };\r\n\r\n  const save = async () => {\r\n    await API.post(\"/api/overlays\", { userId: \"demo\", name, items });\r\n    load();\r\n  };\r\n\r\n  const apply = (ov) => setItems(ov.items);\r\n\r\n  useEffect(() => { load(); }, []);\r\n\r\n  return (\r\n    <div style={{ maxWidth: 1100, margin: \"0 auto\", padding: 16 }}>\r\n      <h2>RTSP Livestream with Overlays</h2>\r\n\r\n      {/* Landing Page Controls */}\r\n      <div style={{ display: \"grid\", gap: 12, gridTemplateColumns: \"1fr auto auto auto\" }}>\r\n        <input placeholder=\"RTSP URL (rtsp://...)\" value={rtspUrl} onChange={(e) => setRtspUrl(e.target.value)} />\r\n        <input placeholder=\"Stream key\" value={streamKey} onChange={(e) => setStreamKey(e.target.value)} />\r\n        <button onClick={start}>Start</button>\r\n        <button onClick={stop}>Stop</button>\r\n      </div>\r\n\r\n      {/* Player + Overlay Editor */}\r\n      <div style={{ position: \"relative\", marginTop: 16, width: 960, maxWidth: \"100%\", aspectRatio: \"16/9\" }}>\r\n        {hlsUrl ? (\r\n          <>\r\n            <VideoPlayer src={hlsUrl} />\r\n            <OverlayEditor items={items} setItems={setItems} />\r\n          </>\r\n        ) : (\r\n          <div style={{ padding: 20, border: \"1px solid #ddd\" }}>\r\n            Enter an RTSP URL and click <b>Start</b> to view.\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Overlay Presets */}\r\n      <h3 style={{ marginTop: 16 }}>Overlay Presets</h3>\r\n      <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\r\n        <input value={name} onChange={(e) => setName(e.target.value)} placeholder=\"Preset name\" />\r\n        <button onClick={save}>Save</button>\r\n      </div>\r\n      <ul>\r\n        {saved.map((ov) => (\r\n          <li key={ov._id} style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\r\n            <button onClick={() => apply(ov)}>Apply</button>\r\n            <span>{ov.name}</span>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}