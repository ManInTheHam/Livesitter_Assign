{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joshi\\\\OneDrive\\\\Desktop\\\\rtsp-overlay-app\\\\client\\\\src\\\\components\\\\OverlayEditor.js\";\nimport { Rnd } from \"react-rnd\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function OverlayEditor({\n  items,\n  setItems,\n  readOnly = false\n}) {\n  const update = (i, patch) => {\n    const next = items.slice();\n    next[i] = {\n      ...next[i],\n      ...patch\n    };\n    setItems(next);\n  };\n\n  // We position/size overlays in percentages (x,y,w,h ∈ [0..1]) so they stay responsive.\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"absolute\",\n      inset: 0,\n      pointerEvents: readOnly ? \"none\" : \"auto\"\n    },\n    children: items.map((it, i) => {\n      var _it$z, _it$opacity, _it$opacity2;\n      return /*#__PURE__*/_jsxDEV(Rnd, {\n        bounds: \"parent\",\n        size: {\n          width: `${it.w * 100}%`,\n          height: `${it.h * 100}%`\n        },\n        position: {\n          x: it.x * 960,\n          y: it.y * 540\n        } // assumes ~16:9 preview box size; adjust if you change layout\n        ,\n        onDragStop: (e, d) => update(i, {\n          x: d.x / 960,\n          y: d.y / 540\n        }),\n        onResizeStop: (e, dir, ref, delta, pos) => update(i, {\n          w: ref.offsetWidth / 960,\n          h: ref.offsetHeight / 540,\n          x: pos.x / 960,\n          y: pos.y / 540\n        }),\n        enableResizing: !readOnly,\n        disableDragging: readOnly,\n        style: {\n          border: readOnly ? \"none\" : \"1px dashed #999\",\n          zIndex: (_it$z = it.z) !== null && _it$z !== void 0 ? _it$z : 1\n        },\n        children: it.type === \"text\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"100%\",\n            height: \"100%\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            color: it.color || \"#fff\",\n            fontSize: it.fontSize || 24,\n            opacity: (_it$opacity = it.opacity) !== null && _it$opacity !== void 0 ? _it$opacity : 1,\n            textShadow: \"0 1px 2px rgba(0,0,0,0.6)\"\n          },\n          children: it.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n          src: it.content,\n          alt: \"overlay\",\n          style: {\n            width: \"100%\",\n            height: \"100%\",\n            objectFit: \"contain\",\n            opacity: (_it$opacity2 = it.opacity) !== null && _it$opacity2 !== void 0 ? _it$opacity2 : 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }, this);\n}\n_c = OverlayEditor;\nvar _c;\n$RefreshReg$(_c, \"OverlayEditor\");","map":{"version":3,"names":["Rnd","jsxDEV","_jsxDEV","OverlayEditor","items","setItems","readOnly","update","i","patch","next","slice","style","position","inset","pointerEvents","children","map","it","_it$z","_it$opacity","_it$opacity2","bounds","size","width","w","height","h","x","y","onDragStop","e","d","onResizeStop","dir","ref","delta","pos","offsetWidth","offsetHeight","enableResizing","disableDragging","border","zIndex","z","type","display","alignItems","justifyContent","color","fontSize","opacity","textShadow","content","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","objectFit","_c","$RefreshReg$"],"sources":["C:/Users/joshi/OneDrive/Desktop/rtsp-overlay-app/client/src/components/OverlayEditor.js"],"sourcesContent":["import { Rnd } from \"react-rnd\";\r\n\r\nexport default function OverlayEditor({ items, setItems, readOnly=false }) {\r\n  const update = (i, patch) => {\r\n    const next = items.slice();\r\n    next[i] = { ...next[i], ...patch };\r\n    setItems(next);\r\n  };\r\n\r\n  // We position/size overlays in percentages (x,y,w,h ∈ [0..1]) so they stay responsive.\r\n  return (\r\n    <div style={{ position: \"absolute\", inset: 0, pointerEvents: readOnly ? \"none\" : \"auto\" }}>\r\n      {items.map((it, i) => (\r\n        <Rnd\r\n          key={i}\r\n          bounds=\"parent\"\r\n          size={{ width: `${it.w * 100}%`, height: `${it.h * 100}%` }}\r\n          position={{ x: it.x * 960, y: it.y * 540 }} // assumes ~16:9 preview box size; adjust if you change layout\r\n          onDragStop={(e, d) => update(i, { x: d.x / 960, y: d.y / 540 })}\r\n          onResizeStop={(e, dir, ref, delta, pos) =>\r\n            update(i, {\r\n              w: ref.offsetWidth / 960,\r\n              h: ref.offsetHeight / 540,\r\n              x: pos.x / 960,\r\n              y: pos.y / 540,\r\n            })\r\n          }\r\n          enableResizing={!readOnly}\r\n          disableDragging={readOnly}\r\n          style={{ border: readOnly ? \"none\" : \"1px dashed #999\", zIndex: it.z ?? 1 }}\r\n        >\r\n          {it.type === \"text\" ? (\r\n            <div style={{\r\n              width: \"100%\", height: \"100%\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\",\r\n              color: it.color || \"#fff\", fontSize: it.fontSize || 24, opacity: it.opacity ?? 1,\r\n              textShadow: \"0 1px 2px rgba(0,0,0,0.6)\"\r\n            }}>\r\n              {it.content}\r\n            </div>\r\n          ) : (\r\n            <img\r\n              src={it.content}\r\n              alt=\"overlay\"\r\n              style={{ width: \"100%\", height: \"100%\", objectFit: \"contain\", opacity: it.opacity ?? 1 }}\r\n            />\r\n          )}\r\n        </Rnd>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}